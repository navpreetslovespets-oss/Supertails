<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Supertails • AHS Interactive Flow</title>
<style>
  :root{
    --bg:#0f1221;
    --panel:#151936;
    --ink:#e8ecff;
    --muted:#a8b0d4;
    --ops:#2dd4bf;
    --tech:#60a5fa;
    --people:#f59e0b;
    --finance:#f472b6;
    --cx:#a78bfa;
    --vacc:#34d399;
    --cons:#22d3ee;
    --node:#20254a;
    --stroke:rgba(255,255,255,.12);
    --accent:#7c3aed;
  }
  html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  #app{display:grid;grid-template-rows:auto 1fr; height:100%}
  .topbar{display:flex;align-items:center;gap:12px;padding:12px 16px;background:linear-gradient(180deg, rgba(124,58,237,0.25), rgba(21,25,54,0.7));border-bottom:1px solid rgba(124,58,237,0.35);position:sticky;top:0;z-index:2;backdrop-filter: blur(6px);}
  .brand{display:flex;align-items:center;gap:10px;font-weight:800}
  .brand .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#7c3aed,#22d3ee);display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(0,0,0,.35)}
  .brand .logo svg{width:18px;height:18px;fill:white;opacity:.95}
  .tag{font-size:12px;color:var(--muted);background:rgba(124,58,237,.2);border:1px solid rgba(124,58,237,.4);padding:4px 8px;border-radius:999px}
  .controls{margin-left:auto;display:flex;align-items:center;gap:8px}
  .chip{display:inline-flex;align-items:center;gap:8px;cursor:pointer;user-select:none;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.04)}
  .chip input{accent-color:var(--accent)}
  .btn{border:1px solid rgba(255,255,255,.14);border-radius:10px;padding:8px 10px;background:rgba(255,255,255,.04);color:var(--ink);cursor:pointer;font-weight:600}
  .btn:hover{background:rgba(255,255,255,.08)}
  .stage{position:relative;overflow:hidden}
  .legend{position:absolute;left:12px;bottom:12px;display:flex;gap:12px;align-items:center;background:rgba(0,0,0,.25);border:1px solid var(--stroke);padding:8px 10px;border-radius:10px}
  .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
  .node{fill:var(--node);stroke:var(--stroke);stroke-width:1}
  .node text{font-size:12px;fill:var(--ink)}
  .pill{font-size:11px;fill:var(--bg)}
  .edge{stroke:rgba(255,255,255,.6);stroke-width:2;marker-end:url(#arrow)}
  .edge-label{font-size:11px;fill:var(--ink);opacity:.8}
  .dept{font-weight:700;fill:#081018}
</style>
</head>
<body>
<div id="app">
  <div class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 2l3.5 6.5L22 10l-6 4.5L17.5 22 12 18.5 6.5 22 8 14.5 2 10l6.5-1.5L12 2z"/></svg>
      </div>
      <div>AHS Interactive Flow</div>
    </div>
    <span class="tag">Supertails • Vaccination & Consultation</span>
    <div class="controls">
      <label class="chip"><input id="toggleVacc" type="checkbox" checked/> Vaccination</label>
      <label class="chip"><input id="toggleCons" type="checkbox" checked/> Consultation</label>
      <button class="btn" id="btnReset">Reset</button>
      <button class="btn" id="btnZoomIn">+</button>
      <button class="btn" id="btnZoomOut">−</button>
      <button class="btn" id="btnExport">Export View</button>
    </div>
  </div>
  <div class="stage" id="stage">
    <svg id="canvas" width="100%" height="100%" viewBox="0 0 1800 900" style="background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)); cursor:grab;">
      <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="rgba(255,255,255,.6)"></path>
        </marker>
      </defs>
      <g id="viewport">
        <!-- Simplified for brevity -->
        <g id="n-lead" transform="translate(80,200)"><rect class="node" width="200" height="66" rx="12"/><text x="12" y="24">Lead / Booking (App/CRM)</text></g>
        <g id="n-schedule" transform="translate(320,200)"><rect class="node" width="180" height="66" rx="12"/><text x="12" y="24">Scheduling (Ops)</text></g>
      </g>
    </svg>
  </div>
</div>
<script>
(function(){
  const viewport=document.getElementById('viewport');
  let state={x:0,y:0,k:1},drag=false,last={x:0,y:0};
  function apply(){viewport.setAttribute('transform',`translate(${state.x},${state.y}) scale(${state.k})`)}
  document.getElementById('canvas').addEventListener('wheel',e=>{
    e.preventDefault();const rect=e.target.getBoundingClientRect();
    const cx=e.clientX-rect.left,cy=e.clientY-rect.top;
    const k2=Math.max(.5,Math.min(2.5,state.k*(e.deltaY<0?1.1:.9)));
    const px=(cx-state.x)/state.k,py=(cy-state.y)/state.k;
    state.x=cx-px*k2;state.y=cy-py*k2;state.k=k2;apply();
  });
  document.getElementById('canvas').addEventListener('mousedown',e=>{drag=true;last.x=e.clientX;last.y=e.clientY});
  window.addEventListener('mouseup',()=>drag=false);
  window.addEventListener('mousemove',e=>{if(!drag)return;state.x+=e.clientX-last.x;state.y+=e.clientY-last.y;last.x=e.clientX;last.y=e.clientY;apply()});
  apply();
})();
</script>
</body>
</html>
