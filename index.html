# Create a fully self-contained interactive HTML (no external CDNs) using inline SVG + vanilla JS:
# - Dark navy theme with Supertails-styled header
# - Pan (drag) + Zoom (wheel/+/- buttons)
# - Toggle Vaccination / Consultation branches
# - Export JSON of current pan/zoom state
# Also create a README.md with instructions.

index_html = r"""<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Supertails • AHS Interactive Flow</title>
<style>
  :root{
    --bg:#0f1221;
    --panel:#151936;
    --ink:#e8ecff;
    --muted:#a8b0d4;
    --ops:#2dd4bf;
    --tech:#60a5fa;
    --people:#f59e0b;
    --finance:#f472b6;
    --cx:#a78bfa;
    --vacc:#34d399;
    --cons:#22d3ee;
    --node:#20254a;
    --stroke:rgba(255,255,255,.12);
    --accent:#7c3aed;
  }
  html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  #app{display:grid;grid-template-rows:auto 1fr; height:100%}
  .topbar{
    display:flex;align-items:center;gap:12px;padding:12px 16px;background:linear-gradient(180deg, rgba(124,58,237,0.25), rgba(21,25,54,0.7));
    border-bottom:1px solid rgba(124,58,237,0.35);
    position:sticky;top:0;z-index:2;backdrop-filter: blur(6px);
  }
  .brand{display:flex;align-items:center;gap:10px;font-weight:800}
  .brand .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#7c3aed,#22d3ee);display:inline-flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(0,0,0,.35)}
  .brand .logo svg{width:18px;height:18px;fill:white;opacity:.95}
  .tag{font-size:12px;color:var(--muted);background:rgba(124,58,237,.2);border:1px solid rgba(124,58,237,.4);padding:4px 8px;border-radius:999px}
  .controls{margin-left:auto;display:flex;align-items:center;gap:8px}
  .chip{display:inline-flex;align-items:center;gap:8px;cursor:pointer;user-select:none;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.04)}
  .chip input{accent-color:var(--accent)}
  .btn{border:1px solid rgba(255,255,255,.14);border-radius:10px;padding:8px 10px;background:rgba(255,255,255,.04);color:var(--ink);cursor:pointer;font-weight:600}
  .btn:hover{background:rgba(255,255,255,.08)}
  .stage{position:relative;overflow:hidden}
  .hud{position:absolute;right:12px;top:12px;display:flex;flex-direction:column;gap:8px;z-index:1}
  .legend{position:absolute;left:12px;bottom:12px;display:flex;gap:12px;align-items:center;background:rgba(0,0,0,.25);border:1px solid var(--stroke);padding:8px 10px;border-radius:10px}
  .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
  /* Node styles rendered inside SVG via CSS classes */
  .node{fill:var(--node);stroke:var(--stroke);stroke-width:1}
  .node text{font-size:12px;fill:var(--ink)}
  .pill{font-size:11px;fill:var(--bg)}
  .edge{stroke:rgba(255,255,255,.6);stroke-width:2;marker-end:url(#arrow)}
  .edge-label{font-size:11px;fill:var(--ink);opacity:.8}
  .dept{font-weight:700;fill:#081018}
</style>
</head>
<body>
<div id="app">
  <div class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 2l3.5 6.5L22 10l-6 4.5L17.5 22 12 18.5 6.5 22 8 14.5 2 10l6.5-1.5L12 2z"/></svg>
      </div>
      <div>AHS Interactive Flow</div>
    </div>
    <span class="tag">Supertails • Vaccination & Consultation</span>
    <div class="controls">
      <label class="chip"><input id="toggleVacc" type="checkbox" checked/> Vaccination</label>
      <label class="chip"><input id="toggleCons" type="checkbox" checked/> Consultation</label>
      <button class="btn" id="btnReset">Reset</button>
      <button class="btn" id="btnZoomIn">+</button>
      <button class="btn" id="btnZoomOut">−</button>
      <button class="btn" id="btnExport">Export View</button>
    </div>
  </div>
  <div class="stage" id="stage">
    <div class="hud"></div>
    <svg id="canvas" width="100%" height="100%" viewBox="0 0 1800 900" style="background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)); cursor:grab;">
      <defs>
        <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
          <path d="M 0 0 L 10 5 L 0 10 z" fill="rgba(255,255,255,.6)"></path>
        </marker>
        <filter id="soft">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="rgba(0,0,0,.35)"/>
        </filter>
      </defs>
      <!-- Zoomable container -->
      <g id="viewport" filter="url(#soft)">
        <!-- Department pills -->
        <g transform="translate(80,40)">
          <rect rx="10" ry="10" width="180" height="32" fill="var(--ops)"></rect>
          <text class="dept" x="14" y="21">Operations</text>
        </g>
        <g transform="translate(300,40)">
          <rect rx="10" ry="10" width="180" height="32" fill="var(--tech)"></rect>
          <text class="dept" x="14" y="21">Technology</text>
        </g>
        <g transform="translate(520,40)">
          <rect rx="10" ry="10" width="180" height="32" fill="var(--finance)"></rect>
          <text class="dept" x="14" y="21">Finance</text>
        </g>
        <g transform="translate(740,40)">
          <rect rx="10" ry="10" width="220" height="32" fill="var(--cx)"></rect>
          <text class="dept" x="14" y="21">Customer Experience</text>
        </g>
        <g transform="translate(1000,40)">
          <rect rx="10" ry="10" width="140" height="32" fill="var(--people)"></rect>
          <text class="dept" x="14" y="21">People</text>
        </g>

        <!-- Core nodes row -->
        <g id="nodes">
          <!-- helper function is emulated by manual placement -->
          <!-- Booking -->
          <g id="n-lead" transform="translate(80,200)">
            <rect class="node" width="200" height="66" rx="12"/><text x="12" y="24">Lead / Booking (App/CRM)</text>
          </g>
          <g id="n-schedule" transform="translate(320,200)">
            <rect class="node" width="180" height="66" rx="12"/><text x="12" y="24">Scheduling (Ops)</text>
          </g>
          <g id="n-precall" transform="translate(540,200)">
            <rect class="node" width="220" height="66" rx="12"/><text x="12" y="24">Pre-Visit Call (T-30)</text>
          </g>
          <g id="n-travel" transform="translate(800,200)">
            <rect class="node" width="200" height="66" rx="12"/><text x="12" y="24">In Transit → Onsite</text>
          </g>
          <g id="n-inconsult" transform="translate(1040,200)">
            <rect class="node" width="240" height="66" rx="12"/><text x="12" y="24">Mark “In Consult” + SOAP</text>
          </g>
          <g id="n-payment" transform="translate(1320,200)">
            <rect class="node" width="240" height="66" rx="12"/><text x="12" y="24">Payment → Link/QR + UTR</text>
          </g>
          <g id="n-recon" transform="translate(80,340)">
            <rect class="node" width="240" height="66" rx="12"/><text x="12" y="24">Finance Reconciliation</text>
          </g>
          <g id="n-feedback" transform="translate(360,340)">
            <rect class="node" width="220" height="66" rx="12"/><text x="12" y="24">CX Feedback / NPS</text>
          </g>

          <!-- Vaccination branch -->
          <g id="b-vacc" transform="translate(1040,300)">
            <rect class="node" width="220" height="60" rx="12" style="fill:var(--vacc)"/><text class="pill" x="12" y="24">Vaccination Protocol ✓</text>
          </g>

          <!-- Consultation branch -->
          <g id="b-cons" transform="translate(1040,380)">
            <rect class="node" width="220" height="60" rx="12" style="fill:var(--cons)"/><text class="pill" x="12" y="24">Consultation Protocol ✓</text>
          </g>
        </g>

        <!-- Edges -->
        <g id="edges">
          <path class="edge" d="M280 233 L320 233"></path>
          <path class="edge" d="M500 233 L540 233"></path>
          <path class="edge" d="M760 233 L800 233"></path>
          <path class="edge" d="M1000 233 L1040 233"></path>
          <path class="edge" d="M1280 233 L1320 233"></path>
          <path class="edge" d="M1560 233 L1700 233 1700 373 320 373"></path>
          <path class="edge" d="M320 373 L360 373"></path>

          <!-- Branch edges -->
          <path class="edge vacc-edge" d="M1160 266 L1160 300"></path>
          <path class="edge cons-edge" d="M1200 266 L1200 380"></path>
        </g>

        <!-- Edge labels -->
        <g id="labels">
          <text class="edge-label" x="300" y="220">SLAs</text>
          <text class="edge-label" x="520" y="220">T-30</text>
          <text class="edge-label" x="780" y="220">Route</text>
          <text class="edge-label" x="1020" y="220">Arrive</text>
          <text class="edge-label" x="1300" y="220">Close</text>
          <text class="edge-label" x="1580" y="220">UTR → NPS</text>
          <text class="edge-label vacc-edge" x="1168" y="292">Dose, AEFI, record</text>
          <text class="edge-label cons-edge" x="1208" y="356">Dx, Rx, plan</text>
        </g>
      </g>
    </svg>

    <!-- Legend -->
    <div class="legend">
      <span class="dot" style="background:var(--ops)"></span><small>Ops</small>
      <span class="dot" style="background:var(--tech)"></span><small>Tech</small>
      <span class="dot" style="background:var(--finance)"></span><small>Finance</small>
      <span class="dot" style="background:var(--cx)"></span><small>CX</small>
      <span class="dot" style="background:var(--people)"></span><small>People</small>
      <span class="dot" style="background:var(--vacc)"></span><small>Vacc</small>
      <span class="dot" style="background:var(--cons)"></span><small>Cons</small>
    </div>
  </div>
</div>

<script>
(function(){
  const svg = document.getElementById('canvas');
  const viewport = document.getElementById('viewport');
  const stage = document.getElementById('stage');
  const toggleVacc = document.getElementById('toggleVacc');
  const toggleCons = document.getElementById('toggleCons');
  const btnReset = document.getElementById('btnReset');
  const btnZoomIn = document.getElementById('btnZoomIn');
  const btnZoomOut = document.getElementById('btnZoomOut');
  const btnExport = document.getElementById('btnExport');

  // Pan + zoom state
  let state = { x:0, y:0, k:1 };
  let dragging = false;
  let last = {x:0, y:0};

  function apply(){
    viewport.setAttribute('transform', `translate(${state.x},${state.y}) scale(${state.k})`);
  }
  function zoom(f, cx, cy){
    // Zoom about pointer
    const k2 = Math.max(.4, Math.min(2.5, state.k * f));
    const px = (cx - state.x)/state.k;
    const py = (cy - state.y)/state.k;
    state.x = cx - px * k2;
    state.y = cy - py * k2;
    state.k = k2;
    apply();
  }

  svg.addEventListener('wheel', (e)=>{
    e.preventDefault();
    const rect = svg.getBoundingClientRect();
    const cx = e.clientX - rect.left;
    const cy = e.clientY - rect.top;
    zoom(e.deltaY < 0 ? 1.1 : 0.9, cx, cy);
  }, {passive:false});

  svg.addEventListener('mousedown', (e)=>{
    dragging = true; last.x = e.clientX; last.y = e.clientY;
    svg.style.cursor='grabbing';
  });
  window.addEventListener('mouseup', ()=>{ dragging=false; svg.style.cursor='grab'; });
  window.addEventListener('mousemove', (e)=>{
    if(!dragging) return;
    state.x += (e.clientX - last.x);
    state.y += (e.clientY - last.y);
    last.x = e.clientX; last.y = e.clientY;
    apply();
  });

  btnReset.addEventListener('click', ()=>{ state={x:0,y:0,k:1}; apply(); });
  btnZoomIn.addEventListener('click', ()=> zoom(1.15, svg.clientWidth/2, svg.clientHeight/2));
  btnZoomOut.addEventListener('click', ()=> zoom(0.85, svg.clientWidth/2, svg.clientHeight/2));
  btnExport.addEventListener('click', ()=>{
    const data = { view: state, ts: Date.now(), version: 'svg-1.0' };
    const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href=url; a.download='ahs-flow-view.json'; a.click();
    URL.revokeObjectURL(url);
  });

  function setVisibility(cls, visible){
    Array.from(document.getElementsByClassName(cls)).forEach(el=>{
      el.style.display = visible ? 'block' : 'none';
    });
    // Also toggle the nodes themselves
    const nodeId = cls === 'vacc-edge' ? 'b-vacc' : 'b-cons';
    const node = document.getElementById(nodeId);
    if(node) node.style.display = visible ? 'block' : 'none';
  }

  toggleVacc.addEventListener('change', e=> setVisibility('vacc-edge', e.target.checked));
  toggleCons.addEventListener('change', e=> setVisibility('cons-edge', e.target.checked));

  // Initial apply
  apply();
})();
</script>
</body>
</html>
"""

readme = r"""# Supertails • AHS Interactive Flow (Self-contained)

This is a **self-contained** interactive flow diagram for Supertails **At Home Services** (Vaccination & Consultation).  
No external CDNs or dependencies — works offline and on GitHub Pages.

## Live (after upload)
- If this file is named `index.html` at the repo root:
  `https://navpreetslovespets-oss.github.io/Supertails/`

## Interactions
- **Pan:** click & drag
- **Zoom:** mouse wheel or +/- buttons
- **Toggle:** Vaccination / Consultation branches (top right)
- **Export View:** downloads current pan/zoom JSON

## Editing
- Open `index.html` and adjust labels, colors, or node positions (look for the `<g id="n-...">` groups).
- To add more nodes, duplicate a node `<g>` block and adjust its `transform="translate(x,y)"`.

## Notes
- This version uses inline **SVG + vanilla JS** for reliability on GitHub Pages.
- If you want a React/ReactFlow version later, it can be added as a second page.
"""

with open("/mnt/data/index.html", "w", encoding="utf-8") as f:
    f.write(index_html)

with open("/mnt/data/README.md", "w", encoding="utf-8") as f:
    f.write(readme)

"/mnt/data/index.html", "/mnt/data/README.md"
